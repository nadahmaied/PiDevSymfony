<div class="fixed inset-0 z-50 hidden items-center justify-center">

    {# Overlay sombre #}
    <div
        onclick="closeRdvModal()"
        class="absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity">
    </div>

    {# Popup #}
    <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4 p-8 animate-scaleIn">

        {# Header #}
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-slate-800">
                ðŸ“… Ajouter un rendez-vous
            </h2>
            <button onclick="closeRdvModal()"
                    class="text-slate-400 hover:text-red-500 text-xl font-bold">
                âœ•
            </button>
        </div>

        {# âœ… FORM SYMFONY (SANS TOUCHER AU HTML) #}
        {{ form_start(form, {
            attr: {
                novalidate: 'novalidate',
                class: 'space-y-5'
            }
        }) }}

        {# ===== MÃ©decin (SELECT IDENTIQUE) ===== #}
        <div>
            <label class="block text-sm font-semibold text-slate-600 mb-1">
                MÃ©decin
            </label>
            <select name="rendez_vous[medecin]"
                    class="w-full rounded-xl border border-slate-300 p-3 focus:ring-2 focus:ring-blue-500">
                <option value="">Choisir un mÃ©decin</option>
                <option value="1">Dr. Sarah Amrani</option>
                <option value="2">Dr. Mohamed Kallel</option>
                <option value="3">Dr. Karim Ben Youssef</option>
            </select>
        </div>

        {# ===== Motif (SELECT IDENTIQUE) ===== #}
        <div>
            <label class="block text-sm font-semibold text-slate-600 mb-1">
                Motif
            </label>
            <select name="rendez_vous[motif]"
                    class="w-full rounded-xl border border-slate-300 p-3">
                <option value="">Choisir un motif</option>
                <option value="EN_LIGNE">En ligne</option>
                <option value="SUR_SITE">Sur site</option>
            </select>
        </div>

        {# ===== Date + Heure (CALENDRIER IDENTIQUE) ===== #}
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <div>
                <label class="block text-sm font-semibold text-slate-600 mb-1">
                    Date
                </label>
                <input type="date"
                       name="rendez_vous[date]"
                       class="w-full rounded-xl border border-slate-300 p-3">
            </div>

            <div>
                <label class="block text-sm font-semibold text-slate-600 mb-1">
                    Heure
                </label>

                <input type="hidden" name="rendez_vous[hdebut]" id="heureHidden">

                <div class="grid grid-cols-3 gap-2">
                    <button type="button" class="time-btn" onclick="setHeure('09:00')">09:00</button>
                    <button type="button" class="time-btn" onclick="setHeure('10:00')">10:00</button>
                    <button type="button" class="time-btn" onclick="setHeure('11:00')">11:00</button>
                    <button type="button" class="time-btn" onclick="setHeure('14:00')">14:00</button>
                    <button type="button" class="time-btn" onclick="setHeure('15:00')">15:00</button>
                    <button type="button" class="time-btn" onclick="setHeure('16:00')">16:00</button>
                </div>
            </div>

        </div>

        {# ===== Message (TEXTAREA IDENTIQUE) ===== #}
        <div>
            <label class="block text-sm font-semibold text-slate-600 mb-1">
                Message
            </label>
            <textarea name="rendez_vous[message]"
                      rows="3"
                      class="w-full rounded-xl border border-slate-300 p-3"
                      placeholder="Entrer votre message ..."></textarea>
        </div>

        {# ===== Actions ===== #}
        <div class="flex justify-end gap-3 pt-4">
            <button type="button"
                    onclick="closeRdvModal()"
                    class="px-5 py-2 rounded-xl border border-slate-300 text-slate-600 hover:bg-slate-100">
                Annuler
            </button>

            <button type="submit"
                    class="px-6 py-2 rounded-xl bg-blue-600 text-white font-bold hover:bg-blue-700 shadow">
                Confirmer
            </button>
        </div>

{{ form_end(form, { render_rest: false }) }}
    </div>
</div>
