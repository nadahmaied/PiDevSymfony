{% extends 'baseFront.html.twig' %}

{% block title %}Postuler à {{ mission.titre }}{% endblock %}

{% block body %}
<div class="min-h-screen bg-gray-50 flex items-center justify-center p-4">
    
    <div class="bg-white rounded-3xl shadow-xl w-full max-w-2xl overflow-hidden">
        
        <div class="bg-orange-600 p-8 text-white">
            <h1 class="text-2xl font-bold mb-1">Finaliser votre candidature</h1>
            <p class="text-orange-100 text-sm">Votre profil de bénévole sera transmis à l'association pour la mission : <strong>{{ mission.titre }}</strong>.</p>
        </div>

        <div class="p-8">
            {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-3">Vos disponibilités pour cette mission</label>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {% for choice in form.disponibilites %}
                            <div class="relative flex items-start border border-gray-200 p-3 rounded-lg hover:bg-gray-50 transition cursor-pointer">
                                <div class="flex h-5 items-center">
                                    {{ form_widget(choice, {'attr': {'class': 'h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500'}}) }}
                                </div>
                                <div class="ml-3 text-sm">
                                    {{ form_label(choice, null, {'label_attr': {'class': 'font-medium text-gray-700 cursor-pointer'}}) }}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="text-red-500 text-xs mt-1">{{ form_errors(form.disponibilites) }}</div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Pourquoi cette mission ? (Motivation)</label>
                    {{ form_widget(form.motivation, {'attr': {
                        'class': 'w-full rounded-xl border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 p-3',
                        'rows': '4',
                        'placeholder': 'Bonjour, je souhaite participer car...'
                    }}) }}
                    <div class="text-right text-xs text-gray-400 mt-1">0 / 500 caractères</div>
                    <div class="text-red-500 text-xs mt-1">{{ form_errors(form.motivation) }}</div>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Confirmer vos coordonnées</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fa-solid fa-phone text-gray-400"></i>
                        </div>
                        {{ form_widget(form.telephone, {'attr': {
                            'class': 'pl-10 w-full rounded-xl border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 p-3',
                            'placeholder': '+216 20 123 456'
                        }}) }}
                    </div>
                    <div class="text-red-500 text-xs mt-1">{{ form_errors(form.telephone) }}</div>
                </div>

                <div class="flex items-center justify-end gap-4 pt-4 border-t border-gray-100">
                    <a href="{{ path('app_missions_index') }}" class="text-gray-500 hover:text-gray-700 font-medium transition">
                        Annuler
                    </a>
                    <button type="submit" class="bg-orange-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:bg-orange-700 transition transform hover:scale-105 flex items-center gap-2">
                        Envoyer ma candidature <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>

            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %}